(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{1023:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/new",function(){return n(317)}])},7142:function(e,s,n){"use strict";n.d(s,{U:function(){return i}});var t=n(5893);function i(e){let{type:s,placeholder:n,value:i,onChange:r,height:a}=e;return(0,t.jsx)("input",{className:" m-1 rounded-md p-2 border",onChange:e=>r(e.target.value),placeholder:n,style:{height:a||"50px",width:"300px"},type:s,value:i})}},9705:function(e,s,n){"use strict";n.d(s,{B:function(){return l}});var t=n(5893),i=n(5675),r=n.n(i),a=n(1163);function l(e){let{imageUrl:s,name:n,userId:i}=e,l=(0,a.useRouter)();return(0,t.jsx)("div",{className:"flex flex-row items-center gap-1",children:(0,t.jsx)(r(),{alt:n,height:32,onClick:()=>{l.push({pathname:"/".concat(i)})},src:s,style:{borderRadius:"50%"},width:32})})}},1717:function(e,s,n){"use strict";n.d(s,{h:function(){return m}});var t=n(5893),i=n(5675),r=n.n(i),a=n(1163);function l(e){let{id:s}=e,n=(0,a.useRouter)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{onClick:()=>void n.push({pathname:"/article/new",query:{userId:s}}),children:(0,t.jsx)(r(),{alt:"pen",height:"32",src:"/icon/pen.svg",width:"32"})})})}function c(){let e=(0,a.useRouter)(),s=()=>{e.push("/")};return(0,t.jsxs)("div",{className:"flex items-center p-1",onClick:()=>{s()},children:[(0,t.jsx)(r(),{alt:"logo",height:40,src:"/images/logo.png",style:{borderRadius:"50%"},width:40}),(0,t.jsx)("div",{className:"text-2xl font-bold items-center",children:"キジノニワ"})]})}function d(e){let{title:s,description:n,image:i}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{alt:s,height:40,src:i,width:16}),(0,t.jsx)("h2",{children:s}),(0,t.jsx)("p",{children:n})]})}function o(e){let{notifications:s}=e;return(0,t.jsx)("button",{className:"menu-item",children:s.map(e=>(0,t.jsx)(d,{description:e.description,image:e.image,title:e.title},e.id))})}n(7294);var u=n(9705),x=n(7142);function h(){return(0,t.jsx)("div",{className:"flex flex-row  justify-center items-center",children:(0,t.jsx)(x.U,{height:"32px",onChange:()=>console.log("search"),placeholder:"Search Article",type:"",value:""})})}function m(e){let{user:s,notification:n}=e;return(0,t.jsx)("header",{className:"flex justify-between items-center bg-primary-100",children:(0,t.jsx)("div",{className:"sticky top-0 flex-1",children:(0,t.jsxs)("div",{className:"flex justify-center w-full gap-1 m-2  bg-fixed",children:[(0,t.jsx)("div",{className:"flex w-1/4 justify-start ",children:(0,t.jsx)(c,{})}),(0,t.jsx)("div",{className:"flex w-1/2 justify-center ",children:(0,t.jsx)(h,{})}),(0,t.jsxs)("div",{className:"flex w-1/4 justify-end flex-row mr-4 gap-3",children:[(0,t.jsx)(o,{notifications:n}),(0,t.jsx)(u.B,{imageUrl:s.image,name:s.name,userId:s.id}),(0,t.jsx)(l,{id:s.id})]})]})})})}},9714:function(e,s,n){"use strict";n.d(s,{O:function(){return i}});var t=n(5893);function i(e){let{header:s,rightBar:n,leftBar:i,main:r}=e;return(0,t.jsx)("div",{className:"flex h-screen ",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden  ",children:[s,(0,t.jsxs)("div",{className:"flex h-full ",children:[(0,t.jsx)("div",{className:" bg-gray-50 w-1/5",children:i}),(0,t.jsx)("main",{className:"flex flex-col w-full bg-white overflow-x-hidden overflow-y-auto mb-14 ",children:r}),(0,t.jsx)("nav",{className:"flex  h-full bg-gray-50 w-1/5",children:(0,t.jsx)("div",{className:"w-full flex mx-auto ",children:n})})]})]})})}n(7294)},8944:function(e,s,n){"use strict";n.d(s,{K:function(){return c},Z:function(){return d}});var t=n(5893),i=n(7294),r=n(1163);function a(e){let{title:s,icon:n,route:i}=e,a=(0,r.useRouter)(),l=()=>{a.push(i)};return(0,t.jsxs)("div",{className:"flex items-center cursor-pointer bg-primary-100 border-l-4 border-transparent hover:border-primary-500 p-2 w-full h-12 m-1",onClick:()=>{l()},children:[n,(0,t.jsx)("text",{fontSize:"16px",children:s})]})}function l(e){let{title:s,sideBarItems:n}=e,[r,l]=(0,i.useState)(!1);return(0,t.jsxs)("li",{className:"opcion-con-desplegable",children:[(0,t.jsx)("div",{className:"flex items-center p-2 ",onClick:()=>{l(!r)},children:(0,t.jsx)("span",{children:s})}),(0,t.jsx)("ul",{className:"desplegable ml-4 ".concat(r?"":"hidden"),children:n.map(e=>(0,t.jsx)(a,{icon:e.icon,route:e.route,title:e.title},e.title))})]})}function c(){return(0,t.jsx)("nav",{className:"w-full flex mx-auto px-2 py-3",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-900 text-xl ",children:(0,t.jsx)("aside",{className:"bg-gray-800 text-white w-50 min-h-screen p-1",children:(0,t.jsx)("nav",{children:(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)(l,{sideBarItems:[{title:"ホーム",icon:(0,t.jsx)("i",{className:"fas fa-home"}),route:"/"},{title:"ユーザー",icon:(0,t.jsx)("i",{className:"fas fa-users"}),route:"/"}],title:"メイン"}),(0,t.jsx)(l,{sideBarItems:[{title:"アカウント設定",icon:(0,t.jsx)("i",{className:"fas fa-user"}),route:"/"},{title:"プロフィール",icon:(0,t.jsx)("i",{className:"fas fa-user"}),route:"/"},{title:"設定",icon:(0,t.jsx)("i",{className:"fas fa-cog"}),route:"/"},{title:"ログアウト",icon:(0,t.jsx)("i",{className:"fas fa-sign-out-alt"}),route:"/signin"}],title:"設定"})]})})})})})}var d=c},317:function(e,s,n){"use strict";n.r(s),n.d(s,{__N_SSP:function(){return P},default:function(){return T}});var t=n(5893),i=n(1163),r=n(7294);function a(e){let{title:s,description:n,isOpen:i,setIsOpen:r,setIsCancel:a,setIsConfirm:l,confirmText:c,cancelText:d}=e;return(0,t.jsx)(t.Fragment,{children:i&&(0,t.jsx)("div",{className:"fixed inset-0 z-[999] grid  place-items-center  backdrop-blur-sm transition-opacity duration-300 bg-white",children:(0,t.jsxs)("div",{className:"relative m-4 w-3/5 min-w-[30%] max-w-[30%] rounded-lg bg-white  leading-relaxed antialiased shadow-2xl","data-dialog":"dialog",children:[(0,t.jsx)("div",{className:"flex shrink-0 items-center p-4 font-sans text-2xl font-semibold leading-snug text-blue-gray-900 antialiased",children:s}),(0,t.jsx)("div",{className:"relative p-4 font-sans text-base font-light leading-relaxed text-blue-gray-500 antialiased",children:n}),(0,t.jsxs)("div",{className:"flex shrink-0 flex-wrap items-center justify-end p-4 text-blue-gray-500",children:[(0,t.jsx)("button",{className:"middle none center rounded-lg py-3 px-6 font-sans text-xs font-bold uppercase shadow-md transition-all hover:shadow-lg active:opacity-[0.85] ",onClick:function(){a(!0),r(!1)},children:d}),(0,t.jsx)("button",{className:"middle none center rounded-lg  py-3 px-6 font-sans text-xs font-bold uppercase shadow-md  transition-all hover:shadow-lg active:opacity-[0.85] ",onClick:function(){l(!0),r(!1)},children:c})]})]})})})}function l(e){let{title:s,height:n,width:i,onClick:r,disabled:a}=e;return(0,t.jsx)("button",{className:" middle none center rounded-lg m-3 py-3 px-6 font-sans text-xs font-bold uppercase shadow-md  transition-all hover:shadow-lg active:opacity-[0.85] p-2 hover:bg-primary-500 ".concat(a?"bg-primary-500 text-gray-500 cursor-not-allowed":"bg-primary-400"," disabled:opacity-50 disabled:shadow-none"),disabled:a,onClick:a?void 0:()=>r(),style:{height:n,width:i},title:s,children:(0,t.jsx)("p",{children:s})})}var c=n(7142),d=n(8776),o=n(1358),u=n(601),x=n(4281),h=n(363),m=n(658),f=n(3626),g=n(3991),j=n(7605),p=n(3354),v=n(1284),y=n(7656),N=n(7536),b=n(8633),w=n(2091),C=n(3132);let k=e=>{let{editor:s}=e;return s?(0,t.jsxs)("div",{className:"flex flex-row flex-wrap items-center gap-1  px-5 py-2 rounded-t-md ring-2 ",children:[(0,t.jsxs)("a",{className:s.isActive("bold")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleBold().run(),children:[(0,t.jsx)(b.n5T,{size:30,style:{margin:"4px"}})," "]}),(0,t.jsxs)("a",{className:s.isActive("italic")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleItalic().run(),children:[(0,t.jsx)(b.XJX,{size:30,style:{margin:"4px"}})," "]}),(0,t.jsxs)("a",{className:s.isActive("strike")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleStrike().run(),children:[(0,t.jsx)(b.Q$W,{size:30,style:{margin:"4px"}})," "]}),(0,t.jsx)("a",{className:s.isActive("code")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleCode().run(),children:(0,t.jsx)(b.P_q,{size:30,style:{margin:"4px"}})}),(0,t.jsx)("a",{className:s.isActive("highlight")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleHighlight().run(),children:(0,t.jsx)(w.tU3,{size:30,style:{margin:"4px"}})}),(0,t.jsx)("a",{className:"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().unsetAllMarks().run(),children:(0,t.jsx)(b.zjw,{className:"p-1",size:30})}),(0,t.jsx)("a",{className:"rounded-md",href:"#",onClick:()=>s.chain().focus().setParagraph().run(),children:(0,t.jsx)(b.OWN,{size:30,style:{margin:"4px"}})}),(0,t.jsx)("a",{className:s.isActive("heading",{level:1})?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),children:(0,t.jsx)(b.Cxy,{className:"p-1",size:30})}),(0,t.jsx)("a",{className:s.isActive("heading",{level:2})?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleHeading({level:2}).run(),children:(0,t.jsx)(b.hH4,{className:"p-1",size:30})}),(0,t.jsx)("a",{className:s.isActive("heading",{level:3})?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),children:(0,t.jsx)(b.CGP,{className:"p-1",size:30})}),(0,t.jsx)("a",{className:s.isActive("bulletList")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleBulletList().run(),children:(0,t.jsx)(b.ut$,{className:"p-0.5",size:30})}),(0,t.jsx)("a",{className:s.isActive("orderedList")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>s.chain().focus().toggleOrderedList().run(),children:(0,t.jsx)(b.KyO,{className:"p-0.5",size:30})}),(0,t.jsx)("a",{className:"rounded-md",href:"#",onClick:()=>s.chain().focus().undo().run(),children:(0,t.jsx)(C.rb$,{size:30,style:{margin:"4px"}})}),(0,t.jsx)("a",{className:" rounded-md",href:"#",onClick:()=>s.chain().focus().redo().run(),children:(0,t.jsx)(C.Syy,{size:30,style:{margin:"4px"}})})]}):null};function z(e){let{setContent:s,finished:n}=e,{setValue:i,getValues:a}=(0,N.cI)(),l=(0,v.jE)({extensions:[y.Z,u.ZP,p.Z,j.ZP,g.Z,x.ZP,f.Z,m.Z,h.ZP.configure({resizable:!0}),o.Z.configure({className:"outline-none",mode:"all"}),d.Z.configure({limit:1e4})],editorProps:{attributes:{class:"px-6 py-5 prose lg:prose-lg max-w-full focus:outline-none font-content"}},onUpdate(e){let{editor:n}=e;i("body",n.getHTML()),s(a("body"))}});return(0,r.useEffect)(()=>{n&&(l.commands.clearContent(),s(""))},[n]),(0,t.jsx)("div",{className:" flex-wrap p-4 rounded-t-md ",children:(0,t.jsxs)("div",{className:"border rounded-md outline-none ",children:[l&&(0,t.jsx)(k,{editor:l}),(0,t.jsx)(v.kg,{editor:l})]})})}function S(e){let{setTitle:s,title:n,setContent:i,setTags:r,tags:a,finished:l}=e;return(0,t.jsx)("div",{className:"flex justify-center w-4/5",children:(0,t.jsxs)("div",{className:"w-full flex-col",children:[(0,t.jsxs)("div",{className:"flex-col flex justify-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold m-3",children:"新しい記事の投稿"}),(0,t.jsx)("p",{className:"text-m m-3",children:"記事のタイトルとタグを入力してください"}),(0,t.jsxs)("div",{className:"m-3",children:[(0,t.jsx)(c.U,{onChange:s,placeholder:"Title",type:"text",value:n}),(0,t.jsx)(c.U,{onChange:r,placeholder:"Tag",type:"text",value:a})]})]}),(0,t.jsx)(z,{finished:l,setContent:i})]})})}var _=n(1717),A=n(9714),Z=n(8944);function O(e){let{userId:s,user:n,notification:i}=e,[c,d]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[m,f]=(0,r.useState)(!0),[g,j]=(0,r.useState)(!1),[p,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1);async function C(){await fetch("/api/mutation/ArticleMutation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c,content:o,userId:s,userName:n.name})}),d(""),u(""),h(""),f(!0),v(!1)}return(0,r.useEffect)(()=>{c&&o&&x&&c.length>0&&o.length>0&&x.length>0?f(!1):f(!0)},[c,o,x]),(0,r.useEffect)(()=>{p&&(C(),w(!0)),y&&N(!1)},[p,y]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.O,{header:(0,t.jsx)(_.h,{notification:i,user:n}),leftBar:(0,t.jsx)(Z.Z,{}),main:(0,t.jsxs)("div",{className:" flex flex-col items-center",children:[(0,t.jsx)(S,{finished:b,setContent:u,setTags:h,setTitle:d,tags:x,title:c}),(0,t.jsx)(l,{disabled:m,onClick:()=>j(!0),title:"投稿する",width:"100px"})]}),rightBar:(0,t.jsx)("div",{children:"広告とか貼れそう"})}),(0,t.jsx)(a,{cancelText:"Cancel",confirmText:"OK",description:"記事を投稿しますか？",isOpen:g,setIsCancel:N,setIsConfirm:v,setIsOpen:j,title:"投稿確認"})]})}var P=!0;function T(e){let{user:s,notification:n}=e,{userId:r}=(0,i.useRouter)().query;return(0,t.jsx)(O,{notification:n,user:s,userId:r})}}},function(e){e.O(0,[738,123,365,911,509,873,876,888,774,179],function(){return e(e.s=1023)}),_N_E=e.O()}]);