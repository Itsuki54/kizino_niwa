(()=>{var e={};e.id=70,e.ids=[70,888,660],e.modules={7779:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>p,getStaticPaths:()=>m,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>N,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var i=s(7093),a=s(5244),n=s(1323),l=s(1777),c=s.n(l),o=s(5143),d=s(6265),u=e([d]);d=(u.then?(await u)():u)[0];let x=(0,n.l)(d,"default"),h=(0,n.l)(d,"getStaticProps"),m=(0,n.l)(d,"getStaticPaths"),p=(0,n.l)(d,"getServerSideProps"),g=(0,n.l)(d,"config"),f=(0,n.l)(d,"reportWebVitals"),j=(0,n.l)(d,"unstable_getStaticProps"),v=(0,n.l)(d,"unstable_getStaticPaths"),y=(0,n.l)(d,"unstable_getStaticParams"),b=(0,n.l)(d,"unstable_getServerProps"),w=(0,n.l)(d,"unstable_getServerSideProps"),N=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/article/new",pathname:"/article/new",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:d});r()}catch(e){r(e)}})},4019:(e,t,s)=>{"use strict";s.d(t,{V:()=>i});var r=s(997);function i({title:e,description:t,isOpen:s,setIsOpen:i,setIsCancel:a,setIsConfirm:n,confirmText:l,cancelText:c}){return r.jsx(r.Fragment,{children:s&&r.jsx("div",{className:"fixed inset-0 z-[999] grid  place-items-center  backdrop-blur-sm transition-opacity duration-300 bg-white",children:(0,r.jsxs)("div",{className:"relative m-4 w-3/5 min-w-[30%] max-w-[30%] rounded-lg bg-white  leading-relaxed antialiased shadow-2xl","data-dialog":"dialog",children:[r.jsx("div",{className:"flex shrink-0 items-center p-4 font-sans text-2xl font-semibold leading-snug text-blue-gray-900 antialiased",children:e}),r.jsx("div",{className:"relative p-4 font-sans text-base font-light leading-relaxed text-blue-gray-500 antialiased",children:t}),(0,r.jsxs)("div",{className:"flex shrink-0 flex-wrap items-center justify-end p-4 text-blue-gray-500",children:[r.jsx("button",{className:"middle none center rounded-lg py-3 px-6 font-sans text-xs font-bold uppercase shadow-md transition-all hover:shadow-lg active:opacity-[0.85] ",onClick:function(){a(!0),i(!1)},children:c}),r.jsx("button",{className:"middle none center rounded-lg  py-3 px-6 font-sans text-xs font-bold uppercase shadow-md  transition-all hover:shadow-lg active:opacity-[0.85] ",onClick:function(){n(!0),i(!1)},children:l})]})]})})})}s(6689)},3419:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(997);function i({type:e,placeholder:t,value:s,onChange:i,height:a}){return r.jsx("input",{className:" m-1 rounded-md p-2 border",onChange:e=>i(e.target.value),placeholder:t,style:{height:a||"50px",width:"300px"},type:e,value:s})}},9299:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var r=s(997);function i({title:e,height:t,width:s,onClick:i,disabled:a}){return r.jsx("button",{className:` middle none center rounded-lg m-3 py-3 px-6 font-sans text-xs font-bold uppercase shadow-md  transition-all hover:shadow-lg active:opacity-[0.85] p-2 hover:bg-primary-500 ${a?"bg-primary-500 text-gray-500 cursor-not-allowed":"bg-primary-400"} disabled:opacity-50 disabled:shadow-none`,disabled:a,onClick:a?void 0:()=>i(),style:{height:t,width:s},title:e,children:r.jsx("p",{children:e})})}},9749:(e,t,s)=>{"use strict";s.d(t,{j:()=>o});var r=s(997),i=s(8633),a=s(5054);function n(e){return(0,a.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function l(e){return(0,a.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.82,4,15.4,5.44,17.94,8H8.23a6,6,0,0,0,0,12h2V18h-2a4,4,0,0,1,0-8h9.71L15.4,12.51l1.41,1.41L21.77,9Z"},child:[]}]})(e)}function c(e){return(0,a.w_)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.18,4,8.6,5.44,6.06,8h9.71a6,6,0,0,1,0,12h-2V18h2a4,4,0,0,0,0-8H6.06L8.6,12.51,7.18,13.92,2.23,9Z"},child:[]}]})(e)}let o=({editor:e})=>e?(0,r.jsxs)("div",{className:"flex flex-row flex-wrap items-center gap-1  px-5 py-2 rounded-t-md ring-2 ",children:[(0,r.jsxs)("a",{className:e.isActive("bold")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleBold().run(),children:[r.jsx(i.n5T,{size:30,style:{margin:"4px"}})," "]}),(0,r.jsxs)("a",{className:e.isActive("italic")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleItalic().run(),children:[r.jsx(i.XJX,{size:30,style:{margin:"4px"}})," "]}),(0,r.jsxs)("a",{className:e.isActive("strike")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleStrike().run(),children:[r.jsx(i.Q$W,{size:30,style:{margin:"4px"}})," "]}),r.jsx("a",{className:e.isActive("code")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleCode().run(),children:r.jsx(i.P_q,{size:30,style:{margin:"4px"}})}),r.jsx("a",{className:e.isActive("highlight")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleHighlight().run(),children:r.jsx(n,{size:30,style:{margin:"4px"}})}),r.jsx("a",{className:"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().unsetAllMarks().run(),children:r.jsx(i.zjw,{className:"p-1",size:30})}),r.jsx("a",{className:"rounded-md",href:"#",onClick:()=>e.chain().focus().setParagraph().run(),children:r.jsx(i.OWN,{size:30,style:{margin:"4px"}})}),r.jsx("a",{className:e.isActive("heading",{level:1})?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),children:r.jsx(i.Cxy,{className:"p-1",size:30})}),r.jsx("a",{className:e.isActive("heading",{level:2})?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),children:r.jsx(i.hH4,{className:"p-1",size:30})}),r.jsx("a",{className:e.isActive("heading",{level:3})?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),children:r.jsx(i.CGP,{className:"p-1",size:30})}),r.jsx("a",{className:e.isActive("bulletList")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleBulletList().run(),children:r.jsx(i.ut$,{className:"p-0.5",size:30})}),r.jsx("a",{className:e.isActive("orderedList")?"bg-gray-200 rounded-md":"hover:bg-gray-200 duration-200 rounded-md",href:"#",onClick:()=>e.chain().focus().toggleOrderedList().run(),children:r.jsx(i.KyO,{className:"p-0.5",size:30})}),r.jsx("a",{className:"rounded-md",href:"#",onClick:()=>e.chain().focus().undo().run(),children:r.jsx(c,{size:30,style:{margin:"4px"}})}),r.jsx("a",{className:" rounded-md",href:"#",onClick:()=>e.chain().focus().redo().run(),children:r.jsx(l,{size:30,style:{margin:"4px"}})})]}):null},9705:(e,t,s)=>{"use strict";s.d(t,{B:()=>l});var r=s(997),i=s(5675),a=s.n(i),n=s(1163);function l({imageUrl:e,name:t,userId:s}){let i=(0,n.useRouter)();return r.jsx("div",{className:"flex flex-row items-center gap-1",children:r.jsx(a(),{alt:t,height:32,onClick:()=>{i.push({pathname:`/${s}`})},src:e,style:{borderRadius:"50%"},width:32})})}},7715:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{F:()=>c});var i=s(997),a=s(3419),n=s(7701),l=e([n]);function c({setTitle:e,title:t,setContent:s,setTags:r,tags:l,finished:c}){return i.jsx("div",{className:"flex justify-center w-4/5",children:(0,i.jsxs)("div",{className:"w-full flex-col",children:[(0,i.jsxs)("div",{className:"flex-col flex justify-center",children:[i.jsx("h1",{className:"text-3xl font-bold m-3",children:"新しい記事の投稿"}),i.jsx("p",{className:"text-m m-3",children:"記事のタイトルとタグを入力してください"}),(0,i.jsxs)("div",{className:"m-3",children:[i.jsx(a.U,{onChange:e,placeholder:"Title",type:"text",value:t}),i.jsx(a.U,{onChange:r,placeholder:"Tag",type:"text",value:l})]})]}),i.jsx(n.M,{finished:c,setContent:s})]})})}n=(l.then?(await l)():l)[0],r()}catch(e){r(e)}})},7701:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{M:()=>b});var i=s(997),a=s(1969),n=s(7857),l=s(3706),c=s(4259),o=s(5146),d=s(6616),u=s(202),x=s(7297),h=s(2148),m=s(9417),p=s(3348),g=s(8910),f=s(6689),j=s(5641),v=s(9749),y=e([a,n,l,c,o,d,u,x,h,m,p,g,j]);function b({setContent:e,finished:t}){let{setValue:s,getValues:r}=(0,j.useForm)(),y=(0,p.useEditor)({extensions:[g.default,l.default,m.default,h.default,x.default,c.default,u.default,d.default,o.default.configure({resizable:!0}),n.default.configure({className:"outline-none",mode:"all"}),a.default.configure({limit:1e4})],editorProps:{attributes:{class:"px-6 py-5 prose lg:prose-lg max-w-full focus:outline-none font-content"}},onUpdate({editor:t}){s("body",t.getHTML()),e(r("body"))}});return(0,f.useEffect)(()=>{t&&(y.commands.clearContent(),e(""))},[t]),i.jsx("div",{className:" flex-wrap p-4 rounded-t-md ",children:(0,i.jsxs)("div",{className:"border rounded-md outline-none ",children:[y&&i.jsx(v.j,{editor:y}),i.jsx(p.EditorContent,{editor:y})]})})}[a,n,l,c,o,d,u,x,h,m,p,g,j]=y.then?(await y)():y,r()}catch(e){r(e)}})},1717:(e,t,s)=>{"use strict";s.d(t,{h:()=>m});var r=s(997),i=s(5675),a=s.n(i),n=s(1163);function l({id:e}){let t=(0,n.useRouter)();return r.jsx(r.Fragment,{children:r.jsx("button",{onClick:()=>void t.push({pathname:"/article/new",query:{userId:e}}),children:r.jsx(a(),{alt:"pen",height:"32",src:"/icon/pen.svg",width:"32"})})})}function c(){let e=(0,n.useRouter)(),t=()=>{e.push("/")};return(0,r.jsxs)("div",{className:"flex items-center p-1",onClick:()=>{t()},children:[r.jsx(a(),{alt:"logo",height:40,src:"/images/logo.png",style:{borderRadius:"50%"},width:40}),r.jsx("div",{className:"text-2xl font-bold items-center",children:"キジノニワ"})]})}function o({title:e,description:t,image:s}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(a(),{alt:e,height:40,src:s,width:16}),r.jsx("h2",{children:e}),r.jsx("p",{children:t})]})}function d({notifications:e}){return r.jsx("button",{className:"menu-item",children:e.map(e=>r.jsx(o,{description:e.description,image:e.image,title:e.title},e.id))})}s(6689);var u=s(9705),x=s(3419);function h(){return r.jsx("div",{className:"flex flex-row  justify-center items-center",children:r.jsx(x.U,{height:"32px",onChange:()=>console.log("search"),placeholder:"Search Article",type:"",value:""})})}function m({user:e,notification:t}){return r.jsx("header",{className:"flex justify-between items-center bg-primary-100",children:r.jsx("div",{className:"sticky top-0 flex-1",children:(0,r.jsxs)("div",{className:"flex justify-center w-full gap-1 m-2  bg-fixed",children:[r.jsx("div",{className:"flex w-1/4 justify-start ",children:r.jsx(c,{})}),r.jsx("div",{className:"flex w-1/2 justify-center ",children:r.jsx(h,{})}),(0,r.jsxs)("div",{className:"flex w-1/4 justify-end flex-row mr-4 gap-3",children:[r.jsx(d,{notifications:t}),r.jsx(u.B,{imageUrl:e.image,name:e.name,userId:e.id}),r.jsx(l,{id:e.id})]})]})})})}},9714:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(997);function i({header:e,rightBar:t,leftBar:s,main:i}){return r.jsx("div",{className:"flex h-screen ",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden  ",children:[e,(0,r.jsxs)("div",{className:"flex h-full ",children:[r.jsx("div",{className:" bg-gray-50 w-1/5",children:s}),r.jsx("main",{className:"flex flex-col w-full bg-white overflow-x-hidden overflow-y-auto mb-14 ",children:i}),r.jsx("nav",{className:"flex  h-full bg-gray-50 w-1/5",children:r.jsx("div",{className:"w-full flex mx-auto ",children:t})})]})]})})}s(6689)},8944:(e,t,s)=>{"use strict";s.d(t,{K:()=>c,Z:()=>o});var r=s(997),i=s(6689),a=s(1163);function n({title:e,icon:t,route:s}){let i=(0,a.useRouter)(),n=()=>{i.push(s)};return(0,r.jsxs)("div",{className:"flex items-center cursor-pointer bg-primary-100 border-l-4 border-transparent hover:border-primary-500 p-2 w-full h-12 m-1",onClick:()=>{n()},children:[t,r.jsx("text",{fontSize:"16px",children:e})]})}function l({title:e,sideBarItems:t}){let[s,a]=(0,i.useState)(!1);return(0,r.jsxs)("li",{className:"opcion-con-desplegable",children:[r.jsx("div",{className:"flex items-center p-2 ",onClick:()=>{a(!s)},children:r.jsx("span",{children:e})}),r.jsx("ul",{className:`desplegable ml-4 ${s?"":"hidden"}`,children:t.map(e=>r.jsx(n,{icon:e.icon,route:e.route,title:e.title},e.title))})]})}function c(){return r.jsx("nav",{className:"w-full flex mx-auto px-2 py-3",children:r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-900 text-xl ",children:r.jsx("aside",{className:"bg-gray-800 text-white w-50 min-h-screen p-1",children:r.jsx("nav",{children:(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx(l,{sideBarItems:[{title:"ホーム",icon:r.jsx("i",{className:"fas fa-home"}),route:"/"},{title:"ユーザー",icon:r.jsx("i",{className:"fas fa-users"}),route:"/"}],title:"メイン"}),r.jsx(l,{sideBarItems:[{title:"アカウント設定",icon:r.jsx("i",{className:"fas fa-user"}),route:"/"},{title:"プロフィール",icon:r.jsx("i",{className:"fas fa-user"}),route:"/"},{title:"設定",icon:r.jsx("i",{className:"fas fa-cog"}),route:"/"},{title:"ログアウト",icon:r.jsx("i",{className:"fas fa-sign-out-alt"}),route:"/signin"}],title:"設定"})]})})})})})}let o=c},4394:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>h});var i=s(997),a=s(6689),n=s(4019),l=s(9299),c=s(7715),o=s(1717),d=s(9714),u=s(8944),x=e([c]);function h({userId:e,user:t,notification:s}){let[r,x]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[f,j]=(0,a.useState)(!0),[v,y]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!1);async function P(){await fetch("/api/mutation/ArticleMutation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,content:h,userId:e,userName:t.name})}),x(""),m(""),g(""),j(!0),w(!1)}return(0,a.useEffect)(()=>{r&&h&&p&&r.length>0&&h.length>0&&p.length>0?j(!1):j(!0)},[r,h,p]),(0,a.useEffect)(()=>{b&&(P(),k(!0)),N&&C(!1)},[b,N]),(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.O,{header:i.jsx(o.h,{notification:s,user:t}),leftBar:i.jsx(u.Z,{}),main:(0,i.jsxs)("div",{className:" flex flex-col items-center",children:[i.jsx(c.F,{finished:S,setContent:m,setTags:g,setTitle:x,tags:p,title:r}),i.jsx(l.K,{disabled:f,onClick:()=>y(!0),title:"投稿する",width:"100px"})]}),rightBar:i.jsx("div",{children:"広告とか貼れそう"})}),i.jsx(n.V,{cancelText:"Cancel",confirmText:"OK",description:"記事を投稿しますか？",isOpen:v,setIsCancel:C,setIsConfirm:w,setIsOpen:y,title:"投稿確認"})]})}c=(x.then?(await x)():x)[0],r()}catch(e){r(e)}})},5143:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(997);s(108);var i=s(1649);function a({Component:e,pageProps:{session:t,...s}}){return r.jsx(i.SessionProvider,{session:t,children:r.jsx(e,{...s})})}},1583:(e,t,s)=>{"use strict";s.d(t,{L:()=>o});var r=s(3524),i=s(3227),a=s.n(i);let n=require("next-auth/providers/google");var l=s.n(n);let c=new r.PrismaClient,o={providers:[l()({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""})],callbacks:{async signIn(e){let{email:t}=e.user;return await c.user.upsert({where:{email:t},update:{},create:{name:e.user.name,email:e.user.email,image:e.user.image,admin:!1}}),!0},session:async({session:e,token:t})=>(e.accessToken=t.accessToken,e.user.id=t.id,e.user.uid=t.uid,e),async jwt({token:e,user:t}){if(t){let s=await c.user.findUnique({where:{email:t.email}});e.uid=s?.id,e.accessToken=t.access_token}return e}}};a()(o)},6265:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x,getServerSideProps:()=>h});var i=s(997),a=s(1163),n=s(3227),l=s(4394),c=s(1686),o=s(606),d=s(1583),u=e([l]);function x({user:e,notification:t}){let{userId:s}=(0,a.useRouter)().query;return i.jsx(l.Z,{notification:t,user:e,userId:s})}l=(u.then?(await u)():u)[0];let h=async e=>{let t=await (0,n.getServerSession)(e.req,e.res,d.L);if(!t)return{redirect:{destination:"/api/auth/signin",permanent:!1}};let s=await (0,o.t)(t.user.uid),r=JSON.parse(JSON.stringify(s)),i=await (0,c.H)(r.id),a=JSON.parse(JSON.stringify(i));return{props:{user:r,notification:a}}};r()}catch(e){r(e)}})},1686:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});var r=s(3524);async function i(e){return new r.PrismaClient().notification.findMany({where:{userId:e}})}},606:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(3524);async function i(e){return new r.PrismaClient().user.findUnique({where:{id:e}})}},108:()=>{},3524:e=>{"use strict";e.exports=require("@prisma/client")},3227:e=>{"use strict";e.exports=require("next-auth")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1969:e=>{"use strict";e.exports=import("@tiptap/extension-character-count")},7857:e=>{"use strict";e.exports=import("@tiptap/extension-focus")},3706:e=>{"use strict";e.exports=import("@tiptap/extension-highlight")},4259:e=>{"use strict";e.exports=import("@tiptap/extension-strike")},5146:e=>{"use strict";e.exports=import("@tiptap/extension-table")},6616:e=>{"use strict";e.exports=import("@tiptap/extension-table-cell")},202:e=>{"use strict";e.exports=import("@tiptap/extension-table-header")},7297:e=>{"use strict";e.exports=import("@tiptap/extension-table-row")},2148:e=>{"use strict";e.exports=import("@tiptap/extension-task-item")},9417:e=>{"use strict";e.exports=import("@tiptap/extension-task-list")},3348:e=>{"use strict";e.exports=import("@tiptap/react")},8910:e=>{"use strict";e.exports=import("@tiptap/starter-kit")},5641:e=>{"use strict";e.exports=import("react-hook-form")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[777,342,675,633],()=>s(7779));module.exports=r})();