(()=>{var e={};e.id=917,e.ids=[917,888,660],e.modules={1940:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>x,getServerSideProps:()=>f,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>b,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var i=s(7093),a=s(5244),n=s(1323),l=s(1777),c=s.n(l),u=s(5143),d=s(7045),o=e([d]);d=(o.then?(await o)():o)[0];let x=(0,n.l)(d,"default"),m=(0,n.l)(d,"getStaticProps"),h=(0,n.l)(d,"getStaticPaths"),f=(0,n.l)(d,"getServerSideProps"),p=(0,n.l)(d,"config"),g=(0,n.l)(d,"reportWebVitals"),j=(0,n.l)(d,"unstable_getStaticProps"),v=(0,n.l)(d,"unstable_getStaticPaths"),w=(0,n.l)(d,"unstable_getStaticParams"),y=(0,n.l)(d,"unstable_getServerProps"),N=(0,n.l)(d,"unstable_getServerSideProps"),b=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/article/[articleId]",pathname:"/article/[articleId]",bundlePath:"",filename:""},components:{App:u.default,Document:c()},userland:d});r()}catch(e){r(e)}})},4927:(e,t,s)=>{"use strict";s.d(t,{i:()=>i});var r=s(997);function i(){return r.jsx("div",{className:"border-b border-gray-300 my-4"})}},3419:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(997);function i({type:e,placeholder:t,value:s,onChange:i,height:a}){return r.jsx("input",{className:" m-1 rounded-md p-2 border",onChange:e=>i(e.target.value),placeholder:t,style:{height:a||"50px",width:"300px"},type:e,value:s})}},9705:(e,t,s)=>{"use strict";s.d(t,{B:()=>l});var r=s(997),i=s(5675),a=s.n(i),n=s(1163);function l({imageUrl:e,name:t,userId:s}){let i=(0,n.useRouter)();return r.jsx("div",{className:"flex flex-row items-center gap-1",children:r.jsx(a(),{alt:t,height:32,onClick:()=>{i.push({pathname:`/${s}`})},src:e,style:{borderRadius:"50%"},width:32})})}},8644:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{l:()=>u});var i=s(997),a=s(2905),n=s(4927),l=s(9705),c=e([a]);function u({article:e,createdUser:t}){return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-xl",children:e.title}),i.jsx(l.B,{imageUrl:t.image,name:t.name,userId:t.id})]}),i.jsx(n.i,{}),i.jsx("div",{children:(0,a.default)(e.content)})]})}a=(c.then?(await c)():c)[0],r()}catch(e){r(e)}})},1717:(e,t,s)=>{"use strict";s.d(t,{h:()=>h});var r=s(997),i=s(5675),a=s.n(i),n=s(1163);function l({id:e}){let t=(0,n.useRouter)();return r.jsx(r.Fragment,{children:r.jsx("button",{onClick:()=>void t.push({pathname:"/article/new",query:{userId:e}}),children:r.jsx(a(),{alt:"pen",height:"32",src:"/icon/pen.svg",width:"32"})})})}function c(){let e=(0,n.useRouter)(),t=()=>{e.push("/")};return(0,r.jsxs)("div",{className:"flex items-center p-1",onClick:()=>{t()},children:[r.jsx(a(),{alt:"logo",height:40,src:"/images/logo.png",style:{borderRadius:"50%"},width:40}),r.jsx("div",{className:"text-2xl font-bold items-center",children:"キジノニワ"})]})}function u({title:e,description:t,image:s}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(a(),{alt:e,height:40,src:s,width:16}),r.jsx("h2",{children:e}),r.jsx("p",{children:t})]})}function d({notifications:e}){return r.jsx("button",{className:"menu-item",children:e.map(e=>r.jsx(u,{description:e.description,image:e.image,title:e.title},e.id))})}s(6689);var o=s(9705),x=s(3419);function m(){return r.jsx("div",{className:"flex flex-row  justify-center items-center",children:r.jsx(x.U,{height:"32px",onChange:()=>console.log("search"),placeholder:"Search Article",type:"",value:""})})}function h({user:e,notification:t}){return r.jsx("header",{className:"flex justify-between items-center bg-primary-100",children:r.jsx("div",{className:"sticky top-0 flex-1",children:(0,r.jsxs)("div",{className:"flex justify-center w-full gap-1 m-2  bg-fixed",children:[r.jsx("div",{className:"flex w-1/4 justify-start ",children:r.jsx(c,{})}),r.jsx("div",{className:"flex w-1/2 justify-center ",children:r.jsx(m,{})}),(0,r.jsxs)("div",{className:"flex w-1/4 justify-end flex-row mr-4 gap-3",children:[r.jsx(d,{notifications:t}),r.jsx(o.B,{imageUrl:e.image,name:e.name,userId:e.id}),r.jsx(l,{id:e.id})]})]})})})}},9714:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(997);function i({header:e,rightBar:t,leftBar:s,main:i}){return r.jsx("div",{className:"flex h-screen ",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden  ",children:[e,(0,r.jsxs)("div",{className:"flex h-full ",children:[r.jsx("div",{className:" bg-gray-50 w-1/5",children:s}),r.jsx("main",{className:"flex flex-col w-full bg-white overflow-x-hidden overflow-y-auto mb-14 ",children:i}),r.jsx("nav",{className:"flex  h-full bg-gray-50 w-1/5",children:r.jsx("div",{className:"w-full flex mx-auto ",children:t})})]})]})})}s(6689)},8944:(e,t,s)=>{"use strict";s.d(t,{K:()=>c,Z:()=>u});var r=s(997),i=s(6689),a=s(1163);function n({title:e,icon:t,route:s}){let i=(0,a.useRouter)(),n=()=>{i.push(s)};return(0,r.jsxs)("div",{className:"flex items-center cursor-pointer bg-primary-100 border-l-4 border-transparent hover:border-primary-500 p-2 w-full h-12 m-1",onClick:()=>{n()},children:[t,r.jsx("text",{fontSize:"16px",children:e})]})}function l({title:e,sideBarItems:t}){let[s,a]=(0,i.useState)(!1);return(0,r.jsxs)("li",{className:"opcion-con-desplegable",children:[r.jsx("div",{className:"flex items-center p-2 ",onClick:()=>{a(!s)},children:r.jsx("span",{children:e})}),r.jsx("ul",{className:`desplegable ml-4 ${s?"":"hidden"}`,children:t.map(e=>r.jsx(n,{icon:e.icon,route:e.route,title:e.title},e.title))})]})}function c(){return r.jsx("nav",{className:"w-full flex mx-auto px-2 py-3",children:r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-900 text-xl ",children:r.jsx("aside",{className:"bg-gray-800 text-white w-50 min-h-screen p-1",children:r.jsx("nav",{children:(0,r.jsxs)("ul",{className:"space-y-2",children:[r.jsx(l,{sideBarItems:[{title:"ホーム",icon:r.jsx("i",{className:"fas fa-home"}),route:"/"},{title:"ユーザー",icon:r.jsx("i",{className:"fas fa-users"}),route:"/"}],title:"メイン"}),r.jsx(l,{sideBarItems:[{title:"アカウント設定",icon:r.jsx("i",{className:"fas fa-user"}),route:"/"},{title:"プロフィール",icon:r.jsx("i",{className:"fas fa-user"}),route:"/"},{title:"設定",icon:r.jsx("i",{className:"fas fa-cog"}),route:"/"},{title:"ログアウト",icon:r.jsx("i",{className:"fas fa-sign-out-alt"}),route:"/signin"}],title:"設定"})]})})})})})}let u=c},747:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{D:()=>d});var i=s(997),a=s(8644),n=s(1717),l=s(9714),c=s(8944),u=e([a]);function d({user:e,article:t,notification:s,createdUser:r}){return i.jsx(l.O,{header:i.jsx(n.h,{notification:s,user:e}),leftBar:i.jsx(c.Z,{}),main:i.jsx(a.l,{article:t,createdUser:r,user:e}),rightBar:i.jsx("div",{className:"bg-gray-50 w-full h-full",children:"広告とか貼れそう"})})}a=(u.then?(await u)():u)[0],r()}catch(e){r(e)}})},5143:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(997);s(108);var i=s(1649);function a({Component:e,pageProps:{session:t,...s}}){return r.jsx(i.SessionProvider,{session:t,children:r.jsx(e,{...s})})}},1583:(e,t,s)=>{"use strict";s.d(t,{L:()=>u});var r=s(3524),i=s(3227),a=s.n(i);let n=require("next-auth/providers/google");var l=s.n(n);let c=new r.PrismaClient,u={providers:[l()({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""})],callbacks:{async signIn(e){let{email:t}=e.user;return await c.user.upsert({where:{email:t},update:{},create:{name:e.user.name,email:e.user.email,image:e.user.image,admin:!1}}),!0},session:async({session:e,token:t})=>(e.accessToken=t.accessToken,e.user.id=t.id,e.user.uid=t.uid,e),async jwt({token:e,user:t}){if(t){let s=await c.user.findUnique({where:{email:t.email}});e.uid=s?.id,e.accessToken=t.access_token}return e}}};a()(u)},7045:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x,getServerSideProps:()=>m});var i=s(997),a=s(3227),n=s(747),l=s(589),c=s(1686),u=s(606),d=s(1583),o=e([n]);function x({user:e,notification:t,article:s,createdUser:r}){return i.jsx(n.D,{article:s,createdUser:r,notification:t,user:e})}n=(o.then?(await o)():o)[0];let m=async e=>{let{articleId:t}=e.query,s=await (0,a.getServerSession)(e.req,e.res,d.L);if(!s)return{redirect:{destination:"/api/auth/signin",permanent:!1}};{let e=await (0,u.t)(s.user.uid);if(!JSON.parse(JSON.stringify(e)))return{redirect:{destination:"/api/auth/signin",permanent:!1}};{let e=await (0,u.t)(s.user.uid),r=JSON.parse(JSON.stringify(e)),i=await (0,c.H)(r.id),a=JSON.parse(JSON.stringify(i)),n=await (0,l.wM)(t),d=JSON.parse(JSON.stringify(n)),o=await (0,u.t)(d.userId),x=JSON.parse(JSON.stringify(o));return{props:{user:r,notification:a,article:d,createdUser:x}}}}};r()}catch(e){r(e)}})},589:(e,t,s)=>{"use strict";s.d(t,{L$:()=>n,gA:()=>i,wM:()=>a});var r=s(3524);async function i(e){return new r.PrismaClient().article.findMany({where:{userId:e}})}async function a(e){return new r.PrismaClient().article.findUnique({where:{id:e}})}async function n(){return new r.PrismaClient().article.findMany()}},1686:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});var r=s(3524);async function i(e){return new r.PrismaClient().notification.findMany({where:{userId:e}})}},606:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(3524);async function i(e){return new r.PrismaClient().user.findUnique({where:{id:e}})}},108:()=>{},3524:e=>{"use strict";e.exports=require("@prisma/client")},3227:e=>{"use strict";e.exports=require("next-auth")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2905:e=>{"use strict";e.exports=import("html-react-parser")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[777,342,675],()=>s(1940));module.exports=r})();